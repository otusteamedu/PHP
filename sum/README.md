# Скрипт сложения чисел

## Задание

Написать консольное приложение (bash-скрипт), который принимает два числа и выводит их сумму в стандартный вывод.
Если предоставлены неверные аргументы (для проверки на число можно использовать регулярное выражение) вывести ошибку в консоль.

- числа для суммирования могут быть отрицательными и вещественными

## Критерии оценки 
1. bash-скрипты любят лаконичность. Минимальное кол-во переменных и конструкций приветствуется
2. В скрипте обязательно должна быть валидация на некорректный ввод

## Решение
Т.к. чистый bash работает только с целыми числами, пришлось использовать утилиту bc https://ru.wikipedia.org/wiki/Bc . Фактически, скрипт - это просто обертка, которая обеспечивает валидацию ввода для bc . Bc невалидные аргументы либо просто приравнивает к нулю (как происходит с буквами), либо выводит ошибку (например, в случае использования запятой вместо точки в качестве разделителя дробной части).

## Использование
Скриптом можно пользоваться в нескольких вариантах:

- Числа передаются в качестве аргументов:
```bash
./sum.sh [число_1] [число_2] ... [число_n] [-опции]
```
- Числа передаются со стандартного ввода:

```bash
cat <источник строк с числами> | ./sum.sh 
```
Каждое число должно быть в новой строке, иначе валидация аргумента не будет пройдена. 
Так же обработка будет прервана, если скрипт встретит символ = .

- Если вызвать скрипт без параметров, появится приглашение для ввода чисел с клавиатуры.

Так же скрипт можно вызвать с опциями:

- -h, --help - вызов справки
- -v, --version - показать версию

### Docker

Если вы не хотите ставить себе bc или у вас grep без поддержки флага -E, но при этом в наличии Docker, можете воспользоваться им.

Dockerfile в комплекте. 

Для инициализации контейнера просто выполните команду

```bash
make
```

в папке со скриптом.

После этого вам станет доступна команда

```bash
docker run summ [число_1] [число_2] ... [число_n]
```

либо 

```bash
docker run -it summ
```
для интерактивного ввода.

К сожалению, docker run не пробрасывает напрямую поток ввода, поэтому такой вариант

```bash
cat <источник строк с числами> | | docker run -it summ
```

вызовет ошибку ``` the input device is not a TTY ```

## Ошибки

Скрипт игнорирует аргументы, которые не являются числами и выводит сообщение о каждом неверном аргументе в поток ошибок.

В понимании скрипта числами не являются, помимо прочих, такие случаи:

- числа, использующие разделение порядков, например число 1 000 000 будет проигнорировано из-за пробелов-разделителей.

- числа, использующие запятую в качестве разделителя десятичной части запятую, например 15,463

## Коды возврата

В нормальных условиях код возврата 0, однако в случае ошибки может возвращаться код 1

