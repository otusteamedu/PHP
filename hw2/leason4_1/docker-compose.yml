version: "3.7"
services:
  nginx:
    container_name: nginx
    build:
      context: nginx
      dockerfile: Dockerfile
    ports:
      - "80:80"
    volumes:
      - ./www:/var/www
      - shared-vol:/var/run
    depends_on :
      - php

  php:
    container_name: php
    build:
      context: php
      dockerfile: Dockerfile
    volumes:
      - ./www:/var/www
      - shared-vol:/var/run

volumes:
  shared-vol:
