services:
    _defaults:
        autowire: true
        autoconfigure: true
        public: true
    App\:
        resource: '../app/'
        exclude:
            - '../app/Kernel.php'
            - '../app/Exceptions/*'
            - '../app/HttpKernel_old.php'

    App\Controllers\:
        resource: '../app/Controllers/'
        tags: ['controller.service_arguments']

#    App\Controllers\ChannelVideosController\:
#        resource: '../app/Controllers/ChannelVideosController.php'
#        public: true
#        autowire: true
#        arguments:
#            $service: '@App\Services\YoutubeChannelService'
##            $client: '@GuzzleHttp\ClientInterface'
#        tags: ['controller.service_arguments']
    App\Services\:
        resource: '../app/Services/'
        tags: ['services']

    App\Services\YoutubeChannelService\:
        resource: '../app/Services/ChannelVideoService.php'
        public: true
        autowire: true
        arguments:
            ReadRepositoryInterface $youtubeChannelRepository: '@youtube.channel.repo'
            HydratorInterface $channelModelHydrator: '@youtube.channel.hydrator'
            ReadRepositoryInterface $youtubeSearchRepository: '@youtube.search.repo'
            HydratorInterface $searchModelHydrator: '@youtube.search.hydrator'
            ReadRepositoryInterface $youtubeVideoRepository: '@youtube.video.repo'
            HydratorInterface $videoModelHydrator: '@youtube.video.hydrator'
            CUDRepositoryInterface $elasticChannelRepository: '@elastic.channel.repo'
            CUDRepositoryInterface $elasticVideoRepository: '@elastic.video.repo'
        tags: ['services']

    App\Repositories\:
        resource: '../app/Repositories/'
        tags: ['repositories']

    App\Repositories\ReadRepositoryInterface $youtubeChannelRepository: '@youtube.channel.repo'
    youtube.channel.repo:
        class: 'App\Repositories\YoutubeChannelRepository'
        public: true
        autowire: true
        tags: ['repositories']

    App\ModelHydrators\YoutubeHydratorInterface $channelModelHydrator: '@youtube.channel.hydrator'
    youtube.channel.hydrator:
        class: 'App\ModelHydrators\YoutubeChannelModelHydrator'
        public: true
        autowire: true
        tags: ['hydrators']

    App\Repositories\ReadRepositoryInterface $youtubeSearchRepository: '@youtube.search.repo'
    youtube.search.repo:
        class: 'App\Repositories\YoutubeSearchRepository'
        public: true
        autowire: true
        tags: ['repositories']

    App\ModelHydrators\YoutubeHydratorInterface $searchModelHydrator: '@youtube.search.hydrator'
    youtube.search.hydrator:
        class: 'App\ModelHydrators\YoutubeSearchModelHydrator'
        public: true
        autowire: true
        tags: ['hydrators']

    App\Repositories\ReadRepositoryInterface $youtubeVideoRepository: '@youtube.video.repo'
    youtube.video.repo:
        class: 'App\Repositories\YoutubeVideoRepository'
        public: true
        autowire: true
        tags: ['repositories']

    App\ModelHydrators\YoutubeHydratorInterface $videoModelHydrator: '@youtube.video.hydrator'
    youtube.video.hydrator:
        class: 'App\ModelHydrators\YoutubeVideoModelHydrator'
        public: true
        autowire: true
        tags: ['hydrators']

    App\Repositories\CUDRepositoryInterface $elasticChannelRepository: '@elastic.channel.repo'
    elastic.channel.repo:
        class: 'App\Repositories\ElasticChannelRepository'
        public: true
        autowire: true
        tags: ['repositories']

    App\Repositories\CUDRepositoryInterface $elasticVideoRepository: '@elastic.video.repo'
    elastic.video.repo:
        class: 'App\Repositories\ElasticVideoRepository'
        public: true
        autowire: true
        tags: ['repositories']

    App\Services\StatisticsService\:
        resource: '../app/Services/StatisticsService.php'
        public: true
        autowire: true
        arguments:
            CUDRepositoryInterface $elasticChannelRepository: '@elastic.channel.repo'
            ElasticHydratorInterface $channelModelHydrator: '@elastic.channel.hydrator'
        tags: ['services']

    App\ModelHydrators\ElasticHydratorInterface $channelModelHydrator: '@elastic.video.hydrator'
    elastic.video.hydrator:
        class: 'App\ModelHydrators\ElasticChannelModelHydrator'
        public: true
        autowire: true
        tags: ['hydrators']

#    GuzzleHttp\ClientInterface: '@App\Clients\YoutubeClient'
#    App\Clients\YoutubeClient: '@App\Clients\YoutubeClient'
    #    App\Repositories\ReadRepositoryInterface: '@App\Repositories\YoutubeChannelRepository'
#    App\Repositories\FindByIdRepositoryInterface: '@App\Repositories\YoutubeChannelRepository'
#    youtube.channel.repo: '@App\Repositories\YoutubeChannelRepository'

#    App\Repositories\FindByIdRepositoryInterface\:
#        resource: '../app/Repositories/YoutubeChannelRepository.php'
#        public: true
#        autowire: true
#        tags: ['repo']

#    App\Repositories\FindByIdRepositoryInterface\:
#        resource: '../app/Repositories/YoutubeChannelRepository.php'
#        #        class: 'App/Repositories/YoutubeChannelRepository'
#        #        synthetic: true
#        public: true
#        autowire: true
#        tags: ['repo']

#    App\Repositories\YoutubeChannelRepository\:
#        resource: '../app/Repositories/YoutubeChannelRepository.php'
##        class: 'App/Repositories/YoutubeChannelRepository'
##        synthetic: true
#        public: true
#        autowire: true
#    tags: ['repo']

#    App\Repositories\FindByIdRepositoryInterface\:
#        bind:
#            App\Repositories\FindByIdRepositoryInterface $youtubeChannelRepository: '@App\Repositories\YoutubeChannelRepository'

#    App\Repositories\YoutubeChannelRepository\:
#        resource: '../app/Repositories/YoutubeChannelRepository.php'
#        public: true
#        autowire: true

#    App\Repositories\ReadRepositoryInterface\: '@App/Repositories/YoutubeChannelRepository'
#
#    App/Repositories/YoutubeChannelRepository\: '@App\Repositories\ReadRepositoryInterface'

#    GuzzleHttp\:
#        resource: '../vendor/guzzlehttp/guzzle/src/*'
#        public: true
#        exclude:
#            - '../vendor/guzzlehttp/guzzle/src/functions.php'
#            - '../vendor/guzzlehttp/guzzle/src/functions_include.php'
#            - '../vendor/guzzlehttp/guzzle/src/Cookie/*'
#            - '../vendor/guzzlehttp/guzzle/src/Exception/*'
#            - '../vendor/guzzlehttp/guzzle/src/Handler/*'
#            - '../vendor/guzzlehttp/guzzle/src/Pool.php'
#            - '../vendor/guzzlehttp/guzzle/src/PrepareBodyMiddleware.php'
#            - '../vendor/guzzlehttp/guzzle/src/RedirectMiddleware.php'
#            - '../vendor/guzzlehttp/guzzle/src/RetryMiddleware.php'
#            - '../vendor/guzzlehttp/guzzle/src/TransferStats.php'

#    GuzzleHttp\ClientInterface\:
##        alias: App\Repositories\YoutubeClient
#        public: true
#        autowire: true
##        class: '\App\Repositories\YoutubeClient'
##        class: 'GuzzleHttp\Client'
#        resource: '../vendor/guzzlehttp/guzzle/src/Client.php'
#        tags: ['controller.service_arguments']




#    Google\:
#        resource: '../vendor/google/apiclient/src/*'
#        public: true
#
#    Google\Client\:
#        autowire: true
#        public: true
#        resource: '../vendor/google/apiclient/src/Client.php'
#        tags: ['youtube']

#    Google_Service_YouTube\:
#        resource: '../vendor/google/apiclient-services/src/Google/Service/YouTube.php'
#        tags: ['youtube']
