## Практическа работа

Работа с Web-серверами

Цель: Закрепит навыки работы с веб-серверами; Построит приложение, которое будет не только выполнять поставленную задачу,
но и иметь повышенную отказоустойчивость ввиду зеркалирования и балансировки.


1: Приложение верификации email

1.1. Реализовать приложение (сервис/функцию) для верификации email.
1.2. Реализация будет в будущем встроена в более крупное решение.
1.3. Минимальный функционал - список строк, которые необходимо проверить на наличие валидных email.
1.4. Валидация по регулярным выражения и проверке DNS mx записи, без полноценной отправки письма-подтверждения.

2: Создать как минимум три машины/контейнера
2.1. Балансировщик nginx-upstream
2.2. Балансируемые бэкенды на nginx+php-fpm


Критерии оценки: 1. Желательно иметь возможность лёгкого расширения правил верификации дополнительными средствами.
2. Проверка MX-записи должна производиться встроенными средствами PHP
3. Каждая балансируемая нода должна выводить свой IP, чтобы клиент видел, на какую ноду он пришёл.
Рекомендуем сдать до: 01.03.2020

## Решение:

1: email_test

в папке выполнить

	composer install

	php emails_test.php

2: Балансировка

Поднимаем контейнеры

balancer - 172.28.1.1

worker_1 - 172.28.2.1;
worker_2 - 172.28.2.2;
worker_3 - 172.28.2.3;

php_1 - 172.28.3.1;
php_1 - 172.28.3.2;
php_1 - 172.28.3.3;

в папке выполнить

	sudo docker-compose up

для очистки выполнить

	sh clear.sh