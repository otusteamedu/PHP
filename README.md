# Домашняя работа по Тестированию

### Модульные тесты:

1) Если в `card_number` количество символов не 16 - метод возвращает 400 с сообщением об ошибке
2) Если `card_number` содержит любой символ кроме цифр - метод возвращает 400 с сообщением об ошибке
3) Если `card_holder` содержит любой символ кроме латиницы и символов исключений (дефис) метод возвращает 400 с сообщением об ошибке
4) Если `card_expiration` не является датой(мм/гг) метод возвращает 400 с сообщением об ошибке
5) Если `card_expiration` раньше, чем сегодня - метод возвращает 400 с сообщением об ошибке
6) Если `order_number` не равен 16 символам - метод возвращает 400 с сообщением об ошибке
7) Если `sum` (используя регулярные выражения) не является числом - метод возвращает 400 с сообщением об ошибке
8) Если `sum` <= 0 - метод возвращает 400 с сообщением об ошибке
9) Если в `sum` после запятой больше 2х знаков - метод возвращает 400 с сообщением об ошибке
10) Если `cvv` не равен 3 цифрам - метод возвращает 400 с сообщением об ошибке

### Интеграционные тесты:

#### Back-Front
1) Отправляется на фронт Response c кодом 400 и ошибочный набор данных json
    a. невалидный `card_number` - ожидается подсветка красным цветом рамки с номером карты и сообщением "Введите правильный номер карты",
    b. невалидный `card_holder` - ожидается подсветка красным цветом рамки с держателем карты и сообщением "Имя владельца карты может состояить из латинских символов и '-'",
    c. невалидный `card_expiration` - ожидается подсветка красным цветом рамки со сроком действия карты и сообщением "Введите правильную дату в формате Месяц/Год. Дата не может быть старше сегодняшнего дня",
    d. невалидный `cvv` - - ожидается подсветка красным цветом рамки с cvv и сообщением "Cvv должен состоять из трех цифр",
    e. невалидный `sum` - - ожидается подсветка красным цветом рамки с суммой и сообщением "Введите корректную сумму. Сумма может состоять из цифр и 2 знака после запятой",
2) Отправляет на фронт Response с кодом 403. Ожидается появление ошибки на странице: "Невозможно произвести оплату. Проверьте правильность данных",
3) Отправляет на фронт Response с кодом 500. Ожидается появление ошибки на странице: "Сервис оплаты временно недоступен",
4) Отправляет на фронт Response с кодом 200. Ожидается появление сообщения на странице: "Оплата прошла успешно!"

#### Back - Репозиторий
1) Модуль репозиторий уже должен был быть покрыт тестами. Поэтому здесь должна быть проверка, что попали валидные данные
    a. Отправляется в тестируемый метод набор валидных значений по карточке и значения $orderNumber = '16 символов', $sum = 1,01
        Ожидается: тестируемый метод завершится успешно
    b. Отправляется в тестируемый метод набор валидных значений по карточке и значения $orderNumber = '16 неправильных Символов', $sum = 1,01
        Ожидается: тестируемый метод завершится с выбросом исключения
    с. Отправляется в тестируемый метод набор валидных значений по карточке и значения $orderNumber = '16 символов', $sum = больше чем есть
        Ожидается: тестируемый метод завершится с выбросом исключения

#### Back - API сервиса А
1) Эмулируем ответ от API 403. Ожидается: Отправление на фронт Response с кодом 403.
2) Эмулируем ответ от API 200. Ожидается: Отправление на фронт Response с кодом 200. 
3) Эмулируем недоступность API. Ожидается: Отправление на фронт Response с кодом 500.


### Системные тесты 
1) Производим платеж с ошибочными данными по сумме. Ожидается: появление ошибки на странице "Отказ. Недостаточно средств."
2) Производим платеж с валидными данными. Ожидается: появление сообщения на странице "Оплата прошла успешно!"


### Добавочное условие:
Для предотвращения взымания реальных средств при тестировании необходимо либо произвести эмуляцию Сервиса А, либо договориться о предоставлении
тестового аккаунта со стороны сервиса.