### К уроку 7

Спроектируйте схему данных для системы управления кинотеатром: 
* Кинотеатр имеет несколько залов, в каждом зале идет несколько разных сеансов, клиенты могут купить билеты на сеансы
* Спроектировать базу данных для управления кинотеатром
* Задокументировать с помощью логической модели
* Написать DDL скрипты
* Написать SQL для нахождения самого прибыльного фильма

```
cinema_postgres_create.sql - DDL скрипт для создания структуры БД
sql_most_popular_film - sql запрос для поиска самого прибыльного фильма в БД
cinema_db.png - логическая схема БД

результат выполнения скрипта поиска самого прибыльного фильма:
```
![Image alt](https://github.com/otusteamedu/PHP/blob/iglushkov/hm3-1/sql_res.png)

### К уроку 9

Спроектировать EAV-хранение для базы данных кинотеатра
4 таблицы: фильмы, атрибуты, типы атрибутов, значения.
Типы атрибутов и соответствующие им атрибуты (для примера):
- рецензии (текстовые значения) - рецензии критиков, отзыв неизвестной киноакадемии ...
- премия (заменяется при печати баннеров и билетов на изображение, логическое значение) - оскар, ника ...
- "важные даты" даты (при печати - наименование атрибута и значение даты, тип дата) - мировая премьера, премьера в РФ ... 
- служебные даты (используются при планировании, тип дата) - дата начала продажи билетов, когда запускать рекламу на ТВ ...
View сборки служебных данных в форме (три колонки):
- фильм, задачи актуальные на сегодня, задачи актуальные через 20 дней 
View сборки данных для маркетинга в форме (три колонки):
- фильм, тип атрибута, атрибут, значение (значение выводим как текст) 

```
ddl_eav.sql - DLL скрипт для создания структуры EAV-хранения

схема EAV-хранение:
```
![Image alt](https://github.com/otusteamedu/PHP/blob/iglushkov/hm3-1/EAV.png)

```
View служебная дата
```sql
select * from serviceData
```
![Image alt](https://github.com/otusteamedu/PHP/blob/iglushkov/hm3-1/service.png)

```
View маркетинга
```sql
select * from marketData
```
![Image alt](https://github.com/otusteamedu/PHP/blob/iglushkov/hm3-1/market.png)
